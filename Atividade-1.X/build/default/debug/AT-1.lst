MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00002 ;*              MODIFICAÇÕES PARA USO COM 12F675                   *
                      00003 ;*                FEITAS PELO PROF. MARDSON                        *
                      00004 ;*                      MARÇO DE 2021                              *
                      00005 ;*                 BASEADO NO EXEMPLO DO LIVRO                     *
                      00006 ;*           Desbravando o PIC. David José de Souza                *
                      00007 ;*-----------------------------------------------------------------*
                      00008 ;*   MODELO PARA O PIC 12F675                                      *
                      00009 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00010 
                      00011 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00012 ;*                     ARQUIVOS DE DEFINIÇÕES                      *
                      00013 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00014 #INCLUDE <p12f675.inc>  ;ARQUIVO PADRÃO MICROCHIP PARA 12F675
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Nov 22 2017
                      00005 ;  MPASM PIC12F675 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2017 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00367         LIST
                      00015 
2007   3FA4           00016         __CONFIG _BODEN_OFF & _CP_OFF & _PWRTE_ON & _WDT_OFF & _MCLRE_ON & _INTRC_OSC_NOCLKOUT
                      00017 
                      00018 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00019 ;*                    PAGINAÇÃO DE MEMÓRIA                         *
                      00020 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00021 ;DEFINIÇÃO DE COMANDOS DE USUÁRIO PARA ALTERAÇÃO DA PÁGINA DE MEMÓRIA
                      00022 #DEFINE BANK0   BCF STATUS,RP0  ;SETA BANK 0 DE MEMÓRIA
                      00023 #DEFINE BANK1   BSF STATUS,RP0  ;SETA BANK 1 DE MAMÓRIA
                      00024 
                      00025 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00026 ;*                         VARIÁVEIS                               *
                      00027 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00028 ; DEFINIÇÃO DOS NOMES E ENDEREÇOS DE TODAS AS VARIÁVEIS UTILIZADAS 
                      00029 ; PELO SISTEMA
                      00030 
                      00031         CBLOCK  0x20    ;ENDEREÇO INICIAL DA MEMÓRIA DE
                      00032                                         ;USUÁRIO
  00000020            00033                 W_TEMP          ;REGISTRADORES TEMPORÁRIOS PARA USO
  00000021            00034                 STATUS_TEMP     ;JUNTO ÀS INTERRUPÇÕES
  00000022            00035                 DD 
  00000023            00036                 MM  
  00000024            00037                 AA 
  00000025            00038                 SETE 
  00000026            00039                 RES_W
  00000027            00040                 SOMA
  00000028            00041                 C_MES 
  00000029            00042                 AUX_MES 
  0000002A            00043                 RES_M 
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000002B            00044                 M 
  0000002C            00045                 M1
  0000002D            00046                 R 
  0000002E            00047                 RES_M1 
  0000002F            00048                 RES_M1_1 
  00000030            00049                 AUX 
  00000031            00050                 AUX_ANO 
  00000032            00051                 AUX_ANO_2 
  00000033            00052                 AUX_1 
  00000034            00053                 SOMA_MES 
  00000035            00054                 ANO 
  00000036            00055                 P_INTEIRA 
  00000037            00056                 C_ANO 
  00000038            00057                 P_RESTO 
  00000039            00058                 AUX_DIV 
  0000003A            00059                 RES_M_ANO 
  0000003B            00060                 V_SETE 
  0000003C            00061                 ANO_BISSEXTO
  0000003D            00062                 W_FINAL 
  0000003E            00063                 INICIO_ANO 
  0000003F            00064                 AUX_DIV_DATA 
  00000040            00065                 RES_M_DATA 
  00000041            00066                 AUX_W 
  00000042            00067                 AUX_VALOR_W 
  00000043            00068                 AUX_W_2 
  00000044            00069                 ANO1 
  00000045            00070                 AUX_B 
  00000046            00071                 RES_M_B
                      00072                 
                      00073                 
                      00074                 
                      00075 
                      00076                 ;COLOQUE AQUI SUAS NOVAS VARIÁVEIS
                      00077                 ;NÃO ESQUEÇA COMENTÁRIOS ESCLARECEDORES
                      00078 
                      00079         ENDC                    ;FIM DO BLOCO DE DEFINIÇÃO DE VARIÁVEIS
                      00080 
                      00081 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00082 ;*                        FLAGS INTERNOS                           *
                      00083 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00084 ; DEFINIÇÃO DE TODOS OS FLAGS UTILIZADOS PELO SISTEMA
                      00085 
                      00086 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00087 ;*                         CONSTANTES                              *
                      00088 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00089 ; DEFINIÇÃO DE TODAS AS CONSTANTES UTILIZADAS PELO SISTEMA
                      00090 
                      00091 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00092 ;*                           ENTRADAS                              *
                      00093 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00094 ; DEFINIÇÃO DE TODOS OS PINOS QUE SERÃO UTILIZADOS COMO ENTRADA
                      00095 ; RECOMENDAMOS TAMBÉM COMENTAR O SIGNIFICADO DE SEUS ESTADOS (0 E 1)
                      00096 
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00097 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00098 ;*                           SAÍDAS                                *
                      00099 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00100 ; DEFINIÇÃO DE TODOS OS PINOS QUE SERÃO UTILIZADOS COMO SAÍDA
                      00101 ; RECOMENDAMOS TAMBÉM COMENTAR O SIGNIFICADO DE SEUS ESTADOS (0 E 1)
                      00102 
                      00103 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00104 ;*                       VETOR DE RESET                            *
                      00105 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00106 
                      00107         ORG     0x00                    ;ENDEREÇO INICIAL DE PROCESSAMENTO
0000   2???           00108         GOTO    INICIO
                      00109         
                      00110 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00111 ;*                    INÍCIO DA INTERRUPÇÃO                        *
                      00112 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00113 ; ENDEREÇO DE DESVIO DAS INTERRUPÇÕES. A PRIMEIRA TAREFA É SALVAR OS
                      00114 ; VALORES DE "W" E "STATUS" PARA RECUPERAÇÃO FUTURA
                      00115 
                      00116         ORG     0x04                    ;ENDEREÇO INICIAL DA INTERRUPÇÃO
0004   00A0           00117         MOVWF   W_TEMP          ;COPIA W PARA W_TEMP
0005   0E03           00118         SWAPF   STATUS,W
0006   00A1           00119         MOVWF   STATUS_TEMP     ;COPIA STATUS PARA STATUS_TEMP
                      00120 
                      00121 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00122 ;*                    ROTINA DE INTERRUPÇÃO                        *
                      00123 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00124 ; AQUI SERÃO ESCRITAS AS ROTINAS DE RECONHECIMENTO E TRATAMENTO DAS
                      00125 ; INTERRUPÇÕES
                      00126 
                      00127 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00128 ;*                 ROTINA DE SAÍDA DA INTERRUPÇÃO                  *
                      00129 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00130 ; OS VALORES DE "W" E "STATUS" DEVEM SER RECUPERADOS ANTES DE 
                      00131 ; RETORNAR DA INTERRUPÇÃO
                      00132 
0007                  00133 SAI_INT
0007   0E21           00134         SWAPF   STATUS_TEMP,W
0008   0083           00135         MOVWF   STATUS          ;MOVE STATUS_TEMP PARA STATUS
0009   0EA0           00136         SWAPF   W_TEMP,F
000A   0E20           00137         SWAPF   W_TEMP,W        ;MOVE W_TEMP PARA W
000B   0009           00138         RETFIE
                      00139 
                      00140 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00141 ;*                       ROTINAS E SUBROTINAS                      *
                      00142 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00143 ; CADA ROTINA OU SUBROTINA DEVE POSSUIR A DESCRIÇÃO DE FUNCIONAMENTO
                      00144 ; E UM NOME COERENTE ÀS SUAS FUNÇÕES.
                      00145         
                      00146 ;-------------------------------------------------------------------------------
                      00147 ;PARA ESSE PROJETO, O ANO BISSEXTO É DETERMINADO APENAS CASO O RESTO DA DIVISÃO 
                      00148 ;DO ANO POR QUATRO SEJA IGUAL A ZERO. COMO A LINGUAGEM UTILIZADO NÃO POSSUI 
                      00149 ;OPERADOR PARA RESTO DE DIVISÃO, ENTÃO É EXECUTADO O SEGUINTE CALCULO:
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00150 ;R = AA - (4 - (AA/4))
                      00151 ;-------------------------------------------------------------------------------        
000C                  00152 TESTE_BISSEXTO
                      00153 
                      00154 ;AUX_B = ANO/4
000C                  00155 DIVISAO_B
000C   0824           00156         MOVF AA, W
000D   00B5           00157         MOVWF ANO ;UTILIZA-SE ESSA VARIAVEL PARA NÃO PERDERMOS O VALOR AA
000E   3004           00158         MOVLW .4  ;DEFINE QUANTAS SUBSTRAÇÕES IRÁ OCORRER
000F                  00159 LOOP_DB 
Message[305]: Using default destination of 1 (file).
000F   02B5           00160         SUBWF ANO  ;ANO = ANO - W
0010   1C03           00161         BTFSS STATUS, C  ;TESTA SE HOUVE CARRY-OUT E PULA SE NÃO OCORREU.
0011   2???           00162         GOTO MULTI_B ;OCORREU CARRY-OUT
Message[305]: Using default destination of 1 (file).
0012   0AC5           00163         INCF AUX_B ; INCREMENTA AUX_B QUE GUARDA O VALOR INTEIRO DA DIVISAO 
0013   2???           00164         GOTO LOOP_DB 
                      00165 
                      00166 ;RES_M_B = 4*AUX_B
0014                  00167 MULTI_B
0014   3004           00168         MOVLW .4  
0015   00AB           00169         MOVWF M ;DEFINE QUANTAS MULTIFICAÇÕES IRÁ OCORRER
0016                  00170 LOOP_MB
0016   1903           00171         BTFSC STATUS, Z ;TESTA SE O RESULTADO DA OPERAÇÃO É IGUAL A ZERO
0017   2???           00172         GOTO RESTO_B_4 ;O VALOR DE M CHEGOU EM ZERO
0018   0845           00173         MOVF AUX_B, W 
Message[305]: Using default destination of 1 (file).
0019   07C6           00174         ADDWF RES_M_B ;RES_M_B += AUX_B
Message[305]: Using default destination of 1 (file).
001A   03AB           00175         DECF M ;DECREMENTA M
001B   2???           00176         GOTO LOOP_MB
                      00177         
                      00178 ;R = AA - RES_M_B
001C                  00179 RESTO_B_4
001C   0846           00180         MOVF RES_M_B, W
001D   0224           00181         SUBWF AA, W ; AA = AA - W
001E   00AD           00182         MOVWF R 
001F   0008           00183         RETURN 
                      00184         
                      00185 ;-------------------------------------------------------------------------------
                      00186 ;AQUI É ESTABELECIDO O DIA DA SEMANA: RESTO = SOMA % 7
                      00187 ;SOMA = DIA + COD_MES + COD_ANO
                      00188 ;SE O ANO INICIAR COM 20, RETIRA 1
                      00189 ;-------------------------------------------------------------------------------
                      00190 
                      00191 ;AUX_W = DD + C_MES
0020                  00192 DIA_DA_SEMANA
0020   0822           00193         MOVF DD, W
Message[305]: Using default destination of 1 (file).
0021   07C1           00194         ADDWF AUX_W
0022   0828           00195         MOVF C_MES, W
Message[305]: Using default destination of 1 (file).
0023   07C1           00196         ADDWF AUX_W
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0024   3014           00197         MOVLW .20 ;AQUI É PRECISO FAZER UMA COMPARAÇÃO
0025   023E           00198         SUBWF INICIO_ANO, W ;INICIO_ANO = INICIO_ANO - 20
0026   1D03           00199         BTFSS STATUS, Z ;TESTA O BIT Z E PULA SE O RESULTADO ANTERIOR FOR ZERO
0027   2???           00200         GOTO INICIO_ANO_19 
0028   2???           00201         GOTO INICIO_ANO_20 ;DEU ZERO (LOGO O VALOR DIGITADO FOI 20(
                      00202         
                      00203 ;É ADICIONADO O C_ANO E AUX_W
0029                  00204 INICIO_ANO_19
0029   0837           00205         MOVF C_ANO, W
Message[305]: Using default destination of 1 (file).
002A   07C1           00206         ADDWF AUX_W
002B   2???           00207         GOTO DIVISAO_DATA
                      00208         
                      00209 ;SUBTRAI 1 E DEPOIS ADICIONA EM AUX_W
002C                  00210 INICIO_ANO_20
002C   3001           00211         MOVLW .1
002D   0237           00212         SUBWF C_ANO, W
Message[305]: Using default destination of 1 (file).
002E   07C1           00213         ADDWF AUX_W
                      00214 
                      00215 ;AUX_DIV_DATA = AUX_W_2/7
002F                  00216 DIVISAO_DATA
002F   0841           00217         MOVF AUX_W, W
0030   00C3           00218         MOVWF AUX_W_2 ;USA ESSA VARIAVEL PARA NÃO PERDERMOS O VALOR AUX_W
0031   3007           00219         MOVLW .7 
0032   00BB           00220         MOVWF V_SETE
0033                  00221 LOOP_DIV_DATA
Message[305]: Using default destination of 1 (file).
0033   02C3           00222         SUBWF AUX_W_2
0034   1C03           00223         BTFSS STATUS, C  
0035   2???           00224         GOTO MULTI_DATA
Message[305]: Using default destination of 1 (file).
0036   0ABF           00225         INCF AUX_DIV_DATA
0037   2???           00226         GOTO LOOP_DIV_DATA
                      00227 
                      00228 ;RES_M_DATA = AUX_DIV_DATA*7
0038                  00229 MULTI_DATA
0038   1903           00230         BTFSC STATUS, Z ;TESTA O BIT Z E PULA ENQUANTO A OPERAÇÃO NÃO FOR ZERO
0039   2???           00231         GOTO RESTO_DIV_DATA ;SE A OPERAÇÃO ANTERIOR FOR ZERO O LOOP ACABA
003A   083F           00232         MOVF AUX_DIV_DATA, W 
Message[305]: Using default destination of 1 (file).
003B   07C0           00233         ADDWF RES_M_DATA ;RES_M_DATA += AUX_DIV_DATA
Message[305]: Using default destination of 1 (file).
003C   03BB           00234         DECF V_SETE ;DECREMENTA
003D   2???           00235         GOTO MULTI_DATA
                      00236         
                      00237 ;W_FINAL = AUX_W - RES_M_DATA
003E                  00238 RESTO_DIV_DATA
003E   0840           00239         MOVF RES_M_DATA, W
003F   0241           00240         SUBWF AUX_W, W ; AUX_W = AUX_W - W
0040   1903           00241         BTFSC STATUS, Z
0041   3007           00242         MOVLW .7 ;CORREÇÃO PARA O SABADO SER REPRESENTADO PELO VALOR 7
0042   00BD           00243         MOVWF W_FINAL
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0043   0008           00244         RETURN
                      00245 ;-------------------------------------------------------------------------------
                      00246 ;PARA O CÓDIGO DO ANO SÃO REALIZDAS DUAS OPERAÇÕES:
                      00247 ;1)DIVIDE O VALOR DE AA POR QUATRO E PEGA A PARTE INTEIRA (P_INTEIRA)
                      00248 ;2)DIVIDE O VALOR DE AA POR SETE E PEGA O RESTO DA DIVISAO(P_RESTO)
                      00249 ;LOGO O COD_ANO = P_INTEIRA + P_RESTO
                      00250 ;A PARTE INTEIRA (P_INTEIRA) REPRESENTA QUANTOS ANOS BISSEXTOS EXISTIRAM ATÉ 
                      00251 ;AQUELE MOMENTO (POR ISSO DIVIDE POR QUATRO)
                      00252 ;JÁ A PARTE DO RESTO (P_RESTO) É USADO PARA MODULAR (MOD 7) O VALOR GRANDE.
                      00253 ;-------------------------------------------------------------------------------
                      00254         
                      00255         
0044                  00256 COD_ANO
0044   0824           00257         MOVF AA, W
0045   00B1           00258         MOVWF AUX_ANO ;USA ESSA VARIAVEL PARA NÃO PERDERMOS O VALOR DE AA
0046   3004           00259         MOVLW .4
                      00260 
                      00261 ;P_INTEIRA = AUX_ANO/7
0047                  00262 DIVISAO_4
Message[305]: Using default destination of 1 (file).
0047   02B1           00263         SUBWF AUX_ANO
0048   1C03           00264         BTFSS STATUS, C ;TESTA SE HOUVE CARRY-OUT  
0049   2???           00265         GOTO DIVISAO_7 ;OCORREU CARRY-OUT
Message[305]: Using default destination of 1 (file).
004A   0AB6           00266         INCF P_INTEIRA ;INCREMENTA ENQUANTO NÃO OCORREU
004B   2???           00267         GOTO DIVISAO_4
                      00268         
                      00269 ;AUX_DIV = AUX_ANO_2/7
004C                  00270 DIVISAO_7
004C   0824           00271         MOVF AA, W
004D   00B2           00272         MOVWF AUX_ANO_2  ;USA ESSA VARIAVEL PARA NÃO PERDERMOS O VALOR DE AA
004E   3007           00273         MOVLW .7
004F   00BB           00274         MOVWF V_SETE
0050                  00275 LOOP_DIV_7
Message[305]: Using default destination of 1 (file).
0050   02B2           00276         SUBWF AUX_ANO_2
0051   1C03           00277         BTFSS STATUS, C  
0052   2???           00278         GOTO MULTI_ANO_7
Message[305]: Using default destination of 1 (file).
0053   0AB9           00279         INCF AUX_DIV
0054   2???           00280         GOTO LOOP_DIV_7
                      00281         
                      00282 ;RES_M_ANO = AUX_DIV*7
0055                  00283 MULTI_ANO_7
0055   1903           00284         BTFSC STATUS, Z
0056   2???           00285         GOTO RESTO_DIV_7
0057   0839           00286         MOVF AUX_DIV, W 
Message[305]: Using default destination of 1 (file).
0058   07BA           00287         ADDWF RES_M_ANO
Message[305]: Using default destination of 1 (file).
0059   03BB           00288         DECF V_SETE
005A   2???           00289         GOTO MULTI_ANO_7
                      00290 
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00291 ;P_RESTO = AA - RES_M_ANO
005B                  00292 RESTO_DIV_7
005B   083A           00293         MOVF RES_M_ANO, W
005C   0224           00294         SUBWF AA, W ; d = f - w
005D   00B8           00295         MOVWF P_RESTO
                      00296 
                      00297 ;C_ANO = P_INTEIRO + P_RESTO
005E                  00298 SOMA_ANO
005E   0838           00299         MOVF P_RESTO, W
Message[305]: Using default destination of 1 (file).
005F   07B7           00300         ADDWF C_ANO
0060   0836           00301         MOVF P_INTEIRA, W
Message[305]: Using default destination of 1 (file).
0061   07B7           00302         ADDWF C_ANO
0062   0008           00303         RETURN
                      00304         
                      00305 ;-------------------------------------------------------------------------------
                      00306 ;PARA IDENTIFICAR EM QUE MÊS ESTAMOS É SOMADO TODOS OS DIAS DO ANO ATÉ A CHEGADA
                      00307 ;DESSA MÊS. COMO ESTAMOS USANDO O MOD 7, É EXTRAÍDO O RESTO DA DIVISÃO.
                      00308 ;A LÓGICA SE APLICA PARA TODOS OS MESES
                      00309 ;-------------------------------------------------------------------------------
                      00310         
                      00311 ;REBECE O VALOR DO MÊS E DIRECIONA PARA LABEL ADEQUADA
0063                  00312 COD_MES
0063   3007           00313         MOVLW .7
0064   00A5           00314         MOVWF SETE
                      00315         ;CODIFICAÇÃO DOS MESES
0065   3001           00316         MOVLW .1
0066   0223           00317         SUBWF MM, W
0067   1903           00318         BTFSC STATUS, Z
0068   2???           00319         GOTO JANEIRO
0069   3002           00320         MOVLW .2
006A   0223           00321         SUBWF MM, W
006B   1903           00322         BTFSC STATUS, Z 
006C   2???           00323         GOTO FEVEREIRO
006D   3003           00324         MOVLW .3
006E   0223           00325         SUBWF MM, W
006F   1903           00326         BTFSC STATUS, Z
0070   2???           00327         GOTO MARCO
0071   3004           00328         MOVLW .4
0072   0223           00329         SUBWF MM, W
0073   1903           00330         BTFSC STATUS, Z 
0074   2???           00331         GOTO ABRIL
0075   3005           00332         MOVLW .5
0076   0223           00333         SUBWF MM, W
0077   1903           00334         BTFSC STATUS, Z
0078   2???           00335         GOTO MAIO
0079   3006           00336         MOVLW .6
007A   0223           00337         SUBWF MM, W
007B   1903           00338         BTFSC STATUS, Z 
007C   2???           00339         GOTO JUNHO
007D   3007           00340         MOVLW .7
007E   0223           00341         SUBWF MM, W
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007F   1903           00342         BTFSC STATUS, Z
0080   2???           00343         GOTO JULHO
0081   3008           00344         MOVLW .8
0082   0223           00345         SUBWF MM, W
0083   1903           00346         BTFSC STATUS, Z 
0084   2???           00347         GOTO AGOSTO
0085   3009           00348         MOVLW .9
0086   0223           00349         SUBWF MM, W
0087   1903           00350         BTFSC STATUS, Z
0088   2???           00351         GOTO SETEMBRO
0089   300A           00352         MOVLW .10
008A   0223           00353         SUBWF MM, W
008B   1903           00354         BTFSC STATUS, Z 
008C   2???           00355         GOTO OUTUBRO
008D   300B           00356         MOVLW .11
008E   0223           00357         SUBWF MM, W
008F   1903           00358         BTFSC STATUS, Z
0090   2???           00359         GOTO NOVEMBRO
0091   300C           00360         MOVLW .12
0092   0223           00361         SUBWF MM, W
0093   1903           00362         BTFSC STATUS, Z 
0094   2???           00363         GOTO DEZEMBRO
0095   2???           00364         GOTO FIM
                      00365         
                      00366 ;PARA JANEIRO TEMOS DOIS CASOS: SE O ANO FOR BISSEXTO, O MÊS COMEÇA COM ZERO
                      00367 ;CASO NÃO SEJA BISSEXTO, COMEÇA COM 1.
                      00368         
0096                  00369 JANEIRO
0096   3000           00370         MOVLW .0
0097   022D           00371         SUBWF R, W
0098   1D03           00372         BTFSS STATUS, Z
0099   2???           00373         GOTO INICIA_EM_1
009A   2???           00374         GOTO INICIA_EM_0
                      00375         
009B                  00376 INICIA_EM_1
009B   3001           00377         MOVLW .1
009C   00A8           00378         MOVWF C_MES
009D   0008           00379         RETURN
009E                  00380 INICIA_EM_0
009E   3000           00381         MOVLW .0
009F   00A8           00382         MOVWF C_MES
00A0   0008           00383         RETURN
                      00384 
                      00385 ;PARA FEVEREIRO TAMBÉM HÁ DOIS CASOS: SE O ANO FOR BISSEXTO, SUBTRAI 1 DO CÓDIGO
                      00386 ;DO MÊS E CASO NÃO SEJA BISSEXTO, NÃO FAZ NADA.
00A1                  00387 FEVEREIRO
00A1   3020           00388         MOVLW .32 ; 1+31
00A2   00B4           00389         MOVWF SOMA_MES
00A3   00B0           00390         MOVWF AUX ; É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
00A4   0825           00391         MOVF SETE, W
                      00392 
                      00393 ;AUX_MES = AUX/7
00A5                  00394 DIVISAO_FEV
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
00A5   02B0           00395         SUBWF AUX
00A6   1C03           00396         BTFSS STATUS, C  
00A7   2???           00397         GOTO MULTI_FEV
Message[305]: Using default destination of 1 (file).
00A8   0AA9           00398         INCF AUX_MES
00A9   2???           00399         GOTO DIVISAO_FEV
                      00400         
                      00401 ;RES_M = AUX_MES*7 
00AA                  00402 MULTI_FEV
00AA   1903           00403         BTFSC STATUS, Z
00AB   2???           00404         GOTO RESTO_DIV_FEV
00AC   0829           00405         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
00AD   07AA           00406         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
00AE   03A5           00407         DECF SETE
00AF   2???           00408         GOTO MULTI_FEV
                      00409         
                      00410 ;C_MES = SOMA_MES - RES_M
00B0                  00411 RESTO_DIV_FEV
00B0   3000           00412         MOVLW .0
00B1   022D           00413         SUBWF R, W
00B2   1D03           00414         BTFSS STATUS, Z
00B3   0008           00415         RETURN
00B4   2???           00416         GOTO SUB_1
00B5   082A           00417         MOVF RES_M, W
00B6   0234           00418         SUBWF SOMA_MES, W ; SOMA_MES = SOMA_MES - W
00B7   00A8           00419         MOVWF C_MES
                      00420         
                      00421 
00B8                  00422 SUB_1
00B8   3001           00423         MOVLW .1
00B9   02A8           00424         SUBWF C_MES, F
00BA   0008           00425         RETURN
                      00426         
00BB                  00427 MARCO
00BB   303C           00428         MOVLW .60 ; 1 + 31 + 28
Message[305]: Using default destination of 1 (file).
00BC   07B4           00429         ADDWF SOMA_MES
00BD   0834           00430         MOVF SOMA_MES, W
00BE   00B0           00431         MOVWF AUX ;  É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
00BF   0825           00432         MOVF SETE, W
                      00433 
                      00434 ;AUX_MES = AUX/7        
00C0                  00435 DIVISAO_MAR
Message[305]: Using default destination of 1 (file).
00C0   02B0           00436         SUBWF AUX
00C1   1C03           00437         BTFSS STATUS, C  
00C2   2???           00438         GOTO MULTI_MAR
Message[305]: Using default destination of 1 (file).
00C3   0AA9           00439         INCF AUX_MES
00C4   2???           00440         GOTO DIVISAO_MAR
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00441         
                      00442 ;RES_M = AUX_MES*7
00C5                  00443 MULTI_MAR
00C5   1903           00444         BTFSC STATUS, Z
00C6   2???           00445         GOTO RESTO_DIV_MAR
00C7   0829           00446         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
00C8   07AA           00447         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
00C9   03A5           00448         DECF SETE
00CA   2???           00449         GOTO MULTI_MAR
                      00450 
                      00451 ;C_MES = SOMA_MES - RES_M
00CB                  00452 RESTO_DIV_MAR
00CB   082A           00453         MOVF RES_M, W
00CC   0234           00454         SUBWF SOMA_MES, W ; d = f - w
00CD   00A8           00455         MOVWF C_MES
00CE   0008           00456         RETURN
                      00457         
00CF                  00458 ABRIL
00CF   305B           00459         MOVLW .91 ; 1+31+28+31
Message[305]: Using default destination of 1 (file).
00D0   07B4           00460         ADDWF SOMA_MES
00D1   0834           00461         MOVF SOMA_MES, W
00D2   00B0           00462         MOVWF AUX ; GUARDA O VALOR DE SOMA_MES. É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
00D3   0825           00463         MOVF SETE, W
                      00464 
                      00465 ;AUX_MES = AUX/7
00D4                  00466 DIVISAO_ABR
Message[305]: Using default destination of 1 (file).
00D4   02B0           00467         SUBWF AUX
00D5   1C03           00468         BTFSS STATUS, C  
00D6   2???           00469         GOTO MULTI_ABR
Message[305]: Using default destination of 1 (file).
00D7   0AA9           00470         INCF AUX_MES
00D8   2???           00471         GOTO DIVISAO_ABR
                      00472 
                      00473 ;RES_M = AUX_MES*7
00D9                  00474 MULTI_ABR
00D9   1903           00475         BTFSC STATUS, Z
00DA   2???           00476         GOTO RESTO_DIV_ABR
00DB   0829           00477         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
00DC   07AA           00478         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
00DD   03A5           00479         DECF SETE
00DE   2???           00480         GOTO MULTI_ABR
                      00481 
                      00482 ;C_MES = SOMA_MES - RES_M
00DF                  00483 RESTO_DIV_ABR
00DF   082A           00484         MOVF RES_M, W
00E0   0234           00485         SUBWF SOMA_MES, W ; d = f - w
00E1   00A8           00486         MOVWF C_MES
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E2   0008           00487         RETURN
                      00488         
00E3                  00489 MAIO
00E3   3079           00490         MOVLW .121 ; 1+31+28+31+30
Message[305]: Using default destination of 1 (file).
00E4   07B4           00491         ADDWF SOMA_MES
00E5   0834           00492         MOVF SOMA_MES, W
00E6   00B0           00493         MOVWF AUX ; GUARDA O VALOR DE SOMA_MES. É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
00E7   0825           00494         MOVF SETE, W
                      00495         
                      00496 ;AUX_MES = AUX/7        
00E8                  00497 DIVISAO_MAI
Message[305]: Using default destination of 1 (file).
00E8   02B0           00498         SUBWF AUX
00E9   1C03           00499         BTFSS STATUS, C  
00EA   2???           00500         GOTO MULTI_MAI
Message[305]: Using default destination of 1 (file).
00EB   0AA9           00501         INCF AUX_MES
00EC   2???           00502         GOTO DIVISAO_MAI
                      00503 
                      00504 ;RES_M = AUX_MES*7
00ED                  00505 MULTI_MAI
00ED   1903           00506         BTFSC STATUS, Z
00EE   2???           00507         GOTO RESTO_DIV_MAI
00EF   0829           00508         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
00F0   07AA           00509         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
00F1   03A5           00510         DECF SETE
00F2   2???           00511         GOTO MULTI_MAI
                      00512         
                      00513 ;C_MES = SOMA_MES - RES_M       
00F3                  00514 RESTO_DIV_MAI
00F3   082A           00515         MOVF RES_M, W
00F4   0234           00516         SUBWF SOMA_MES, W ; d = f - w
00F5   00A8           00517         MOVWF C_MES
00F6   0008           00518         RETURN
                      00519         
00F7                  00520 JUNHO
00F7   3098           00521         MOVLW .152 ; 1+31+28+31+30+31
Message[305]: Using default destination of 1 (file).
00F8   07B4           00522         ADDWF SOMA_MES
00F9   0834           00523         MOVF SOMA_MES, W
00FA   00B0           00524         MOVWF AUX ; GUARDA O VALOR DE SOMA_MES. É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
00FB   0825           00525         MOVF SETE, W
                      00526 
                      00527 ;AUX_MES = AUX/7
00FC                  00528 DIVISAO_JUN
Message[305]: Using default destination of 1 (file).
00FC   02B0           00529         SUBWF AUX
00FD   1C03           00530         BTFSS STATUS, C  
00FE   2???           00531         GOTO MULTI_JUN
Message[305]: Using default destination of 1 (file).
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00FF   0AA9           00532         INCF AUX_MES
0100   2???           00533         GOTO DIVISAO_JUN
                      00534 
                      00535 ;RES_M = AUX_MES*7
0101                  00536 MULTI_JUN
0101   1903           00537         BTFSC STATUS, Z
0102   2???           00538         GOTO RESTO_DIV_JUN
0103   0829           00539         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
0104   07AA           00540         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
0105   03A5           00541         DECF SETE
0106   2???           00542         GOTO MULTI_JUN
                      00543 
                      00544 ;C_MES = SOMA_MES - RES_M
0107                  00545 RESTO_DIV_JUN
0107   082A           00546         MOVF RES_M, W
0108   0234           00547         SUBWF SOMA_MES, W ; d = f - w
0109   00A8           00548         MOVWF C_MES
010A   0008           00549         RETURN
                      00550 
010B                  00551 JULHO
010B   30B6           00552         MOVLW .182 ; 1+31+28+31+30+31+30
Message[305]: Using default destination of 1 (file).
010C   07B4           00553         ADDWF SOMA_MES
010D   0834           00554         MOVF SOMA_MES, W
010E   00B0           00555         MOVWF AUX ; GUARDA O VALOR DE SOMA_MES. É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
010F   0825           00556         MOVF SETE, W
                      00557         
                      00558 ;AUX_MES = AUX/7        
0110                  00559 DIVISAO_JUL
Message[305]: Using default destination of 1 (file).
0110   02B0           00560         SUBWF AUX
0111   1C03           00561         BTFSS STATUS, C  
0112   2???           00562         GOTO MULTI_JUL
Message[305]: Using default destination of 1 (file).
0113   0AA9           00563         INCF AUX_MES
0114   2???           00564         GOTO DIVISAO_JUL
                      00565 
                      00566 ;RES_M = AUX_MES*7
0115                  00567 MULTI_JUL
0115   1903           00568         BTFSC STATUS, Z
0116   2???           00569         GOTO RESTO_DIV_JUL
0117   0829           00570         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
0118   07AA           00571         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
0119   03A5           00572         DECF SETE
011A   2???           00573         GOTO MULTI_JUL
                      00574         
                      00575 ;C_MES = SOMA_MES - RES_M       
011B                  00576 RESTO_DIV_JUL
011B   082A           00577         MOVF RES_M, W
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

011C   0234           00578         SUBWF SOMA_MES, W ; d = f - w
011D   00A8           00579         MOVWF C_MES
011E   0008           00580         RETURN
011F                  00581 AGOSTO
011F   30D5           00582         MOVLW .213 ; 1+31+28+31+30+31+30+31
Message[305]: Using default destination of 1 (file).
0120   07B4           00583         ADDWF SOMA_MES
0121   0834           00584         MOVF SOMA_MES, W
0122   00B0           00585         MOVWF AUX ; GUARDA O VALOR DE SOMA_MES. É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
0123   0825           00586         MOVF SETE, W
                      00587 
                      00588 ;AUX_MES = AUX/7
0124                  00589 DIVISAO_AGO
Message[305]: Using default destination of 1 (file).
0124   02B0           00590         SUBWF AUX
0125   1C03           00591         BTFSS STATUS, C  
0126   2???           00592         GOTO MULTI_AGO
Message[305]: Using default destination of 1 (file).
0127   0AA9           00593         INCF AUX_MES
0128   2???           00594         GOTO DIVISAO_AGO
                      00595         
                      00596 ;RES_M = AUX_MES*7
0129                  00597 MULTI_AGO
0129   1903           00598         BTFSC STATUS, Z
012A   2???           00599         GOTO RESTO_DIV_AGO
012B   0829           00600         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
012C   07AA           00601         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
012D   03A5           00602         DECF SETE
012E   2???           00603         GOTO MULTI_AGO
                      00604 
                      00605 ;C_MES = SOMA_MES - RES_M
012F                  00606 RESTO_DIV_AGO
012F   082A           00607         MOVF RES_M, W
0130   0234           00608         SUBWF SOMA_MES, W ; d = f - w
0131   00A8           00609         MOVWF C_MES
0132   0008           00610         RETURN
                      00611         
0133                  00612 SETEMBRO
0133   30F4           00613         MOVLW .244 ; 1+31+28+31+30+31+30+31+31
Message[305]: Using default destination of 1 (file).
0134   07B4           00614         ADDWF SOMA_MES
0135   0834           00615         MOVF SOMA_MES, W
0136   00B0           00616         MOVWF AUX ; GUARDA O VALOR DE SOMA_MES. É UTILIZADO PARA NAO PERDER O VALOR DE SOMA_MES
0137   0825           00617         MOVF SETE, W
                      00618 
                      00619 ;AUX_MES = AUX/7
0138                  00620 DIVISAO_SET
Message[305]: Using default destination of 1 (file).
0138   02B0           00621         SUBWF AUX
0139   1C03           00622         BTFSS STATUS, C  
013A   2???           00623         GOTO MULTI_SET
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
013B   0AA9           00624         INCF AUX_MES
013C   2???           00625         GOTO DIVISAO_SET
                      00626         
                      00627 ;RES_M = AUX_MES*7
013D                  00628 MULTI_SET
013D   1903           00629         BTFSC STATUS, Z
013E   2???           00630         GOTO RESTO_DIV_SET
013F   0829           00631         MOVF AUX_MES, W 
Message[305]: Using default destination of 1 (file).
0140   07AA           00632         ADDWF RES_M
Message[305]: Using default destination of 1 (file).
0141   03A5           00633         DECF SETE
0142   2???           00634         GOTO MULTI_SET
                      00635 
                      00636 ;C_MES = SOMA_MES - RES_M       
0143                  00637 RESTO_DIV_SET
0143   082A           00638         MOVF RES_M, W
0144   0234           00639         SUBWF SOMA_MES, W ; d = f - w
0145   00A8           00640         MOVWF C_MES
0146   0008           00641         RETURN
                      00642         
                      00643 ;A PARTIR DESSE MÊS O SOMATÓRIO EXECE 8 BITS E SE TORNA INVIÁVEL FAZER TODAS 
                      00644 ;AS OPERAÇÕES GUARDANDO UM VALOR DE 16 BITS EM DUAS VARIÁVEIS. ASSIM, AS
                      00645 ;OPERAÇÕES PARA OS ULTIMOS TRÊS MESES ESTÃO IMPLICITAS. 
                      00646         
0147                  00647 OUTUBRO
0147   3001           00648         MOVLW .1
0148   00A8           00649         MOVWF C_MES
0149   0008           00650         RETURN
                      00651         
014A                  00652 NOVEMBRO
014A   3004           00653         MOVLW .4
014B   00A8           00654         MOVWF C_MES
014C   0008           00655         RETURN
014D                  00656 DEZEMBRO
014D   3006           00657         MOVLW .6
014E   00A8           00658         MOVWF C_MES
014F   0008           00659         RETURN
                      00660                 
0150                  00661 FIM
0150   0008           00662         RETURN
                      00663 
                      00664 ;-------------------------------------------------------------------------------
                      00665 
                      00666         
                      00667         
                      00668 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00669 ;*                     INICIO DO PROGRAMA                          *
                      00670 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00671         
0151                  00672 INICIO
0151   1683           00673         BANK1                           ;ALTERA PARA O BANCO 1
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0152   3000           00674         MOVLW   B'00000000' ;CONFIGURA TODAS AS PORTAS DO GPIO (PINOS)
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0153   0085           00675         MOVWF   TRISIO          ;COMO SAÍDAS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0154   019F           00676         CLRF    ANSEL           ;DEFINE PORTAS COMO Digital I/O
0155   3004           00677         MOVLW   B'00000100'
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0156   0081           00678         MOVWF   OPTION_REG      ;DEFINE OPÇÕES DE OPERAÇÃO
0157   3000           00679         MOVLW   B'00000000'
0158   008B           00680         MOVWF   INTCON          ;DEFINE OPÇÕES DE INTERRUPÇÕES
0159   1283           00681         BANK0                           ;RETORNA PARA O BANCO
015A   3007           00682         MOVLW   B'00000111'
015B   0099           00683         MOVWF   CMCON           ;DEFINE O MODO DE OPERAÇÃO DO COMPARADOR ANALÓGICO
                      00684 
                      00685 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00686 ;*                     INICIALIZAÇÃO DAS VARIÁVEIS                 *
                      00687 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00688 
                      00689 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00690 ;*                     ROTINA PRINCIPAL                            *
                      00691 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
015C                  00692 MAIN
                      00693 
                      00694 ;DEFINIÇÃO DAS VARIAVEIS. A DATA É DEFINADA POR DD/MM/INICIO_ANO:AA
                      00695         
015C   3015           00696         MOVLW .21
015D   00A2           00697         MOVWF DD ;DIA
015E   3006           00698         MOVLW .6
015F   00A3           00699         MOVWF MM ;MÊS
0160   3014           00700         MOVLW .20
0161   00BE           00701         MOVWF INICIO_ANO ;PRIMEIROS DOIS DIGITOS DO ANO (19 OU 20) 
0162   3012           00702         MOVLW .18
0163   00A4           00703         MOVWF AA ; ULTIMOS DOIS DIGITOS DO ANO (21 > AA > 30) 
                      00704 
                      00705 ;-------------------------------------------------------------------------------
                      00706 ;O CÓDIGO ABAIXO FAZ A FUNÇÃO DE CONDICIONAIS QUE TESTAM SE O VALOR DO ANO 
                      00707 ;INSERIDO ESTÁ ENTRE 1930 E 2021. FOI DEFINIDO O VALOR 31 E 22, POIS A LÓGICA 
                      00708 ;CRIADA SE BASEIA NOS OPERADORES MENOR E MAIOR (NÃO MENOR/IGUAL E MAIOR/IGUAL).
                      00709 ;A FAIXA ENTRE 22 E 29 ESTÁ FORA DE ESCOPO.
                      00710 ;-------------------------------------------------------------------------------
0164   301F           00711         MOVLW .31 ;
0165   0224           00712         SUBWF AA, W ; W = F - W 
0166   1C03           00713         BTFSS STATUS, C ;TESTA O BIT C
0167   2???           00714         GOTO MENOR_21  ;VALOR NEGATIVO (MENOR QUE 30)  
0168   2???           00715         GOTO PRINCIPAL ;VALOR POSITIVO (MAIOR QUE 30)
                      00716 
0169                  00717 MENOR_21 
0169   3016           00718         MOVLW .22
016A   0224           00719         SUBWF AA, W
016B   1C03           00720         BTFSS STATUS, C
016C   2???           00721         GOTO PRINCIPAL ;VALOR NEGATIVO (MENOR QUE 21) 
016D   2???           00722         GOTO ERRO ;VALOR POSITIVO (MAIOR QUE 21) 
                      00723                   ;(SE CHEGOU AQUI, O VALOR É MENOR 30, MAIOR 21) 
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00724 
                      00725 ;O ALGORITMO SE BASEIA NO SEGUINTE CALCULO: SOMA = DIA + COD_MES + COD_ANO.
                      00726 ;APÓS ISSO, É EXTRAIDO O RESTO DA DIVISAO POR 7 DA VARIAVEL "SOMA". O RESULTADO 
                      00727 ;DEFINE O VALOR DE W. O VALOR DO DIA DA SEMANA (BASEADO NA ESPECIFICAÇÃO DO
                      00728 ;PROJETO) SERÁ ARMAZENADO NO REGISTRADOR WREG E EM W_FINAL (POR PRECAUÇÃO).
                      00729 ;A CRIAÇÃO DAS SUBROTINAS VISARAM FACILITAR O ENTEDIMENTO E EXECUÇÃO DO CÓDIGO.
                      00730         
016E                  00731 PRINCIPAL
016E   2???           00732         CALL TESTE_BISSEXTO ; FUNÇÃO DE TESTE PARA SABER SE O ANO É BISSEXTO
016F   2???           00733         CALL COD_MES ;FUNÇÃO PARA DEFINIR O CÓDIGO DO MÊS
0170   2???           00734         CALL COD_ANO ;FUNÇÃO PARA DEFINIR O CÓDIGO DO ANO
0171   2???           00735         CALL DIA_DA_SEMANA ;FUNÇÃO PARA DEFINIR O VALOR FINAL DE W
0172   2???           00736         GOTO MAIN
0173                  00737 ERRO
0173   0103           00738         CLRW ;CASO O VALOR DE AA ESTEJA FORA DA REGIÃO DEFINIDA, 
                      00739              ;O REGISTRADOR WREG É LIMPO (VALOR 0).
                      00740         
                      00741 
                      00742 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00743 ;*                       FIM DO PROGRAMA                           *
                      00744 ;* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
                      00745 
3FA4                  00746         END
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

AA                                00000024
ABRIL                             000000CF
ADCON0                            0000001F
ADCS0                             00000004
ADCS1                             00000005
ADCS2                             00000006
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
AGOSTO                            0000011F
ANO                               00000035
ANO1                              00000044
ANO_BISSEXTO                      0000003C
ANS0                              00000000
ANS1                              00000001
ANS2                              00000002
ANS3                              00000003
ANSEL                             0000009F
AUX                               00000030
AUX_1                             00000033
AUX_ANO                           00000031
AUX_ANO_2                         00000032
AUX_B                             00000045
AUX_DIV                           00000039
AUX_DIV_DATA                      0000003F
AUX_MES                           00000029
AUX_VALOR_W                       00000042
AUX_W                             00000041
AUX_W_2                           00000043
BANK0                             BCF STATUS,RP0
BANK1                             BSF STATUS,RP0
C                                 00000000
CAL0                              00000002
CAL1                              00000003
CAL2                              00000004
CAL3                              00000005
CAL4                              00000006
CAL5                              00000007
CHS0                              00000002
CHS1                              00000003
CINV                              00000004
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             00000019
CMIE                              00000003
CMIF                              00000003
COD_ANO                           00000044
COD_MES                           00000063
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

COUT                              00000006
C_ANO                             00000037
C_MES                             00000028
DC                                00000001
DD                                00000022
DEZEMBRO                          0000014D
DIA_DA_SEMANA                     00000020
DIVISAO_4                         00000047
DIVISAO_7                         0000004C
DIVISAO_ABR                       000000D4
DIVISAO_AGO                       00000124
DIVISAO_B                         0000000C
DIVISAO_DATA                      0000002F
DIVISAO_FEV                       000000A5
DIVISAO_JUL                       00000110
DIVISAO_JUN                       000000FC
DIVISAO_MAI                       000000E8
DIVISAO_MAR                       000000C0
DIVISAO_SET                       00000138
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDAT                             0000009A
EEDATA                            0000009A
EEIE                              00000007
EEIF                              00000007
ERRO                              00000173
F                                 00000001
FEVEREIRO                         000000A1
FIM                               00000150
FSR                               00000004
GIE                               00000007
GO                                00000001
GO_DONE                           00000001
GO_NOT_DONE                       00000001
GP0                               00000000
GP1                               00000001
GP2                               00000002
GP3                               00000003
GP4                               00000004
GP5                               00000005
GPIE                              00000003
GPIF                              00000000
GPIO                              00000005
GPIO0                             00000000
GPIO1                             00000001
GPIO2                             00000002
GPIO3                             00000003
GPIO4                             00000004
GPIO5                             00000005
INDF                              00000000
INICIA_EM_0                       0000009E
INICIA_EM_1                       0000009B
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

INICIO                            00000151
INICIO_ANO                        0000003E
INICIO_ANO_19                     00000029
INICIO_ANO_20                     0000002C
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOC                               00000096
IOC0                              00000000
IOC1                              00000001
IOC2                              00000002
IOC3                              00000003
IOC4                              00000004
IOC5                              00000005
IOCB                              00000096
IOCB0                             00000000
IOCB1                             00000001
IOCB2                             00000002
IOCB3                             00000003
IOCB4                             00000004
IOCB5                             00000005
IRP                               00000007
JANEIRO                           00000096
JULHO                             0000010B
JUNHO                             000000F7
LOOP_DB                           0000000F
LOOP_DIV_7                        00000050
LOOP_DIV_DATA                     00000033
LOOP_MB                           00000016
M                                 0000002B
M1                                0000002C
MAIN                              0000015C
MAIO                              000000E3
MARCO                             000000BB
MENOR_21                          00000169
MM                                00000023
MULTI_ABR                         000000D9
MULTI_AGO                         00000129
MULTI_ANO_7                       00000055
MULTI_B                           00000014
MULTI_DATA                        00000038
MULTI_FEV                         000000AA
MULTI_JUL                         00000115
MULTI_JUN                         00000101
MULTI_MAI                         000000ED
MULTI_MAR                         000000C5
MULTI_SET                         0000013D
NOT_BOD                           00000000
NOT_BOR                           00000000
NOT_DONE                          00000001
NOT_GPPU                          00000007
NOT_PD                            00000003
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

NOT_POR                           00000001
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOVEMBRO                          0000014A
OPTION_REG                        00000081
OSCCAL                            00000090
OUTUBRO                           00000147
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PRINCIPAL                         0000016E
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
P_INTEIRA                         00000036
P_RESTO                           00000038
R                                 0000002D
RD                                00000000
RESTO_B_4                         0000001C
RESTO_DIV_7                       0000005B
RESTO_DIV_ABR                     000000DF
RESTO_DIV_AGO                     0000012F
RESTO_DIV_DATA                    0000003E
RESTO_DIV_FEV                     000000B0
RESTO_DIV_JUL                     0000011B
RESTO_DIV_JUN                     00000107
RESTO_DIV_MAI                     000000F3
RESTO_DIV_MAR                     000000CB
RESTO_DIV_SET                     00000143
RES_M                             0000002A
RES_M1                            0000002E
RES_M1_1                          0000002F
RES_M_ANO                         0000003A
RES_M_B                           00000046
RES_M_DATA                        00000040
RES_W                             00000026
RP0                               00000005
RP1                               00000006
SAI_INT                           00000007
SETE                              00000025
SETEMBRO                          00000133
SOMA                              00000027
SOMA_ANO                          0000005E
SOMA_MES                          00000034
STATUS                            00000003
STATUS_TEMP                       00000021
SUB_1                             000000B8
T0CS                              00000005
T0IE                              00000005
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1IE                              00000000
T1IF                              00000000
T1OSCEN                           00000003
TESTE_BISSEXTO                    0000000C
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1GE                            00000006
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TRISIO                            00000085
TRISIO0                           00000000
TRISIO1                           00000001
TRISIO2                           00000002
TRISIO3                           00000003
TRISIO4                           00000004
TRISIO5                           00000005
VCFG                              00000006
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             00000099
VREN                              00000007
VRR                               00000005
V_SETE                            0000003B
W                                 00000000
WPU                               00000095
WPU0                              00000000
WPU1                              00000001
WPU2                              00000002
WPU4                              00000004
WPU5                              00000005
WR                                00000001
WREN                              00000002
WRERR                             00000003
W_FINAL                           0000003D
W_TEMP                            00000020
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
MPASM 5.77                          AT-1.ASM   8-30-2021  16:43:00         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_OFF                           00003FFF
_CP_ON                            00003F7F
_DEVID1                           00002006
_EC_OSC                           00003FFB
_EXTRC_OSC_CLKOUT                 00003FFF
_EXTRC_OSC_NOCLKOUT               00003FFE
_FOSC_EC                          00003FFB
_FOSC_EXTRCCLK                    00003FFF
_FOSC_EXTRCIO                     00003FFE
_FOSC_HS                          00003FFA
_FOSC_INTRCCLK                    00003FFD
_FOSC_INTRCIO                     00003FFC
_FOSC_LP                          00003FF8
_FOSC_XT                          00003FF9
_HS_OSC                           00003FFA
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FF8
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FEF
_WDTE_OFF                         00003FF7
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FF7
_WDT_ON                           00003FFF
_XT_OSC                           00003FF9
__12F675                          00000001
__DEBUG                           
__MPLAB_DEBUGGER_SIMULATOR        1

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    62 reported,     0 suppressed

